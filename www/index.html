<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />
		<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
		<meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />
		<link rel="shortcut icon" href="img/favicon-36x36.png" />
		<link rel="apple-touch-icon" href="img/webAppIcon-512x512.png" />
		<link rel="stylesheet" type="text/css" href="css/menu.css" />
		<title>Throw Gerard</title>
	</head>
	<body>
		
		<!-- !!! REMEMBER TO ALSO ADD ANY NEW CHARACTER TO THE ARRAY BELOW !!! -->
		<div id="characters-frame">
			<div id="cable"></div>
			<div id="characters">
				<div class="character" id="normal"></div><!--
				--><div class="character" id="rambo"></div><!--
				--><div class="character" id="aloha"></div>
			</div>
		</div>
		
		<script type="text/javascript">
			var SCREEN_WIDTH = parseInt(window.innerWidth, 10);
			
			var IS_TOUCHABLE = true;
			
		/* <!-- FOR TEST --> */
			IS_TOUCHABLE = false;
		/*	<!-- --> */
		</script>
		
<!--		<script type="text/javascript" src="cordova.js"></script>-->
		
		<script type="text/javascript" src="js/jquery/jquery-2.1.4.min.js"></script>
		<script type="text/javascript" src="js/jquery/jquery.easing.1.3.js"></script>
		<script type="text/javascript" src="js/jquery/jquery.easing.compatibility.js"></script>
		
		<script type="text/javascript" src="js/Data.js"></script>
		<script type="text/javascript" src="js/menu/Characters.js"></script>
		
		<script type="text/javascript">
			var characterWidth = 85;
			var spacingWidth = 12;
			
			var charactersArray = new Array('normal', 'rambo', 'aloha');
			var charactersObjectsArray = [];
			
			for (var i = 0; i < charactersArray.length; i++) {
				var c = document.querySelector("#" + charactersArray[i]);
					c.style.width = characterWidth + "px";
					c.style.height = "85px";
					c.style.left = (i * characterWidth) + (i * spacingWidth) + "px";
				
				charactersObjectsArray.push(new Character(c, charactersArray[i]));
			}
			
			for (var i = 0; i < charactersObjectsArray.length; i++) {
				charactersObjectsArray[i].getNode().addEventListener("click", function(e) {
					
					var target = e.target || e.srcElement;
					var selectedCharacter = target.id;
					
					if (DATA.getCharacter(selectedCharacter) || selectedCharacter == "normal") {
						DATA.selectCharacter(selectedCharacter);
						
						for (var j = 0; j < charactersObjectsArray.length; j++) {
							if (selectedCharacter == charactersObjectsArray[j].getCharacter())
								charactersObjectsArray[j].select();

							else
								charactersObjectsArray[j].deselect();
						}
					}
					
					else {
						alert("character not unlocked!");
					}
					
				}, false);
				
				if (DATA.getSelectedCharacter() == charactersObjectsArray[i].getCharacter())
					charactersObjectsArray[i].select();
			}
			
			document.querySelector("#characters").style.width = (charactersArray.length * characterWidth) + (charactersArray.length * spacingWidth) - spacingWidth + "px";
		</script>
		
		
		<script type="text/javascript" src="js/menu/GerardSlider.js"></script>
		<script type="text/javascript" src="js/menu/GameMenu.js"></script>
		
		<script type="text/javascript">
//			location.href = "game.html";
		</script>
		
		<a href="game.html">Jouer !</a>
	</body>
</html>